[["index.html", "A Minimal Book Example Chapter 1 Publishing Rbookdown with Github Pages and Travis 1.1 Bookdown Guide", " A Minimal Book Example Yihui Xie 2022-11-30 Chapter 1 Publishing Rbookdown with Github Pages and Travis 1.1 Bookdown Guide While we take the same approach as the Bookdown guide, I update some steps to reflect changes with Travis. First, as in the guide, set up gh-pages branch as noted in the guide: # assume you have initialized the git repository, # and are under the directory of the book repository now # create a branch named gh-pages and clean up everything git checkout --orphan gh-pages git rm -rf . # create a hidden file .nojekyll touch .nojekyll git add .nojekyll git commit -m &quot;Initial commit&quot; git push origin gh-pages 1.1.1 Files to Modify/Add 1.1.1.1 .travis.yml Depending on your file system, you may not see this file immediately because it starts with a period. Look up on your system how to “view hidden files” if you wish to see it. language: r cache: packages pandoc_version: 2.9.2.1 addons: apt: packages: - ghostscript before_script: - chmod +x ./_build.sh - chmod +x ./_deploy.sh script: - ./_build.sh deploy: provider: pages skip_cleanup: true github_token: $GITHUB_PAT # Set in the settings page of your repository, as a secure variable keep_history: true on: branch: main local_dir: _book/ committer_from_gh: true 1.1.1.2 _build.sh You’ll need to specify the commands to build your book in Travis: #!/bin/sh set -ev Rscript -e &quot;bookdown::render_book(&#39;index.Rmd&#39;, &#39;bookdown::gitbook&#39;)&quot; tlmgr option repository ctan Rscript -e &quot;bookdown::render_book(&#39;index.Rmd&#39;, &#39;bookdown::pdf_book&#39;)&quot; Rscript -e &quot;bookdown::render_book(&#39;index.Rmd&#39;, &#39;bookdown::epub_book&#39;)&quot; 1.1.1.3 Description File As noted on the Bookdown guide: The only thing in this file that really matters is the specification of dependencies. All dependencies will be installed via the devtools package. If a dependency is on CRAN or BioConductor, you can simply list it in the Imports field of the DESCRIPTION file. If it is on GitHub, you may use the Remotes field to list its repository name. So the takeaway is, list your RPackages used in Imports. Here’s the example file: Package: placeholder Type: Book Title: Does not matter. Version: 0.0.1 Imports: bookdown, ggplot2 Remotes: rstudio/bookdown 1.1.2 Travis Let’s do everything through the website to keep things simple and not using the terminal! Create a Github PAT through the Github website and sign up for Travis CI. You should see a list of your repositories and in your profile, you should be sure to activate Github Apps integration. When you find your repository in the dashboard, click it and in “More options&gt;Settings” enter the Github PAT value into the Environmental Variables section. Name it GITHUB_PAT because that is what is specified in .travis.yml. 1.1.2.1 Note on Credit We have limited free credits available on Travis CI. This means that we have probably around 1000 build minutes and the book make take around 10 minutes or even more to run. Ways to save time involve caching, through which we can add the following to our .travis.yml file: sudo: false cache: packages: yes directories: - $TRAVIS_BUILD_DIR/_bookdown_files "],["intro.html", "Chapter 2 Introduction", " Chapter 2 Introduction You can label chapter and section titles using {#label} after them, e.g., we can reference Chapter 2. If you do not manually label them, there will be automatic labels anyway, e.g., Chapter 4. Figures and tables with captions will be placed in figure and table environments, respectively. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 2.1: Here is a nice figure! Reference a figure by its code chunk label with the fig: prefix, e.g., see Figure 2.1. Similarly, you can reference tables generated from knitr::kable(), e.g., see Table 2.1. knitr::kable( head(iris, 20), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 2.1: Here is a nice table! Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa 4.6 3.4 1.4 0.3 setosa 5.0 3.4 1.5 0.2 setosa 4.4 2.9 1.4 0.2 setosa 4.9 3.1 1.5 0.1 setosa 5.4 3.7 1.5 0.2 setosa 4.8 3.4 1.6 0.2 setosa 4.8 3.0 1.4 0.1 setosa 4.3 3.0 1.1 0.1 setosa 5.8 4.0 1.2 0.2 setosa 5.7 4.4 1.5 0.4 setosa 5.4 3.9 1.3 0.4 setosa 5.1 3.5 1.4 0.3 setosa 5.7 3.8 1.7 0.3 setosa 5.1 3.8 1.5 0.3 setosa You can write citations, too. For example, we are using the bookdown package (Xie 2022) in this sample book, which was built on top of R Markdown and knitr (Xie 2015). References "],["literature.html", "Chapter 3 Literature", " Chapter 3 Literature Here is a review of existing methods. "],["methods.html", "Chapter 4 Methods 4.1 math example", " Chapter 4 Methods We describe our methods in this chapter. Math can be added in body using usual syntax like this 4.1 math example \\(p\\) is unknown but expected to be around 1/3. Standard error will be approximated \\[ SE = \\sqrt(\\frac{p(1-p)}{n}) \\approx \\sqrt{\\frac{1/3 (1 - 1/3)} {300}} = 0.027 \\] You can also use math in footnotes like this1. We will approximate standard error to 0.0272 where we mention \\(p = \\frac{a}{b}\\)↩︎ \\(p\\) is unknown but expected to be around 1/3. Standard error will be approximated \\[ SE = \\sqrt(\\frac{p(1-p)}{n}) \\approx \\sqrt{\\frac{1/3 (1 - 1/3)} {300}} = 0.027 \\]↩︎ "],["applications.html", "Chapter 5 Applications 5.1 Example one 5.2 Example two", " Chapter 5 Applications Some significant applications are demonstrated in this chapter. 5.1 Example one 5.2 Example two "],["final-words.html", "Chapter 6 Final Words", " Chapter 6 Final Words We have finished a nice book. "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
